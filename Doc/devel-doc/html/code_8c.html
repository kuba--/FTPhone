<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//PL">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-2">
<title>code.c File Reference</title>
<link href="style.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#fffeff">
<!-- Generated by Doxygen 1.3.4 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1>code.c File Reference</h1><code>#include "<a class="el" href="config_8h-source.html">config.h</a>"</code><br>
<code>#include "<a class="el" href="proto_8h-source.html">proto.h</a>"</code><br>
<code>#include "<a class="el" href="private_8h-source.html">private.h</a>"</code><br>
<code>#include "<a class="el" href="gsm_8h-source.html">gsm.h</a>"</code><br>
<table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>char *memcpy&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="code_8c.html#a0">P</a> ((char *, char *, int))</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void Gsm_Coder&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="code_8c.html#a1">P8</a> ((S, s, LARc, Nc, bc, Mc, xmaxc, xMc), struct <a class="el" href="structgsm__state.html">gsm_state</a> *S, <a class="el" href="private_8h.html#a11">word</a> *s, <a class="el" href="private_8h.html#a11">word</a> *LARc, <a class="el" href="private_8h.html#a11">word</a> *Nc, <a class="el" href="private_8h.html#a11">word</a> *bc, <a class="el" href="private_8h.html#a11">word</a> *Mc, <a class="el" href="private_8h.html#a11">word</a> *xmaxc, <a class="el" href="private_8h.html#a11">word</a> *xMc)</td></tr>

</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a0" doxytag="code.c::P" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> char* memcpy P </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">(char *, char *, int)&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="code.c::P8" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void Gsm_Coder P8 </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">(S, s, LARc, Nc, bc, Mc, xmaxc, xMc)&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>struct <a class="el" href="structgsm__state.html">gsm_state</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>S</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="private_8h.html#a11">word</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>s</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="private_8h.html#a11">word</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>LARc</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="private_8h.html#a11">word</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>Nc</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="private_8h.html#a11">word</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>bc</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="private_8h.html#a11">word</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>Mc</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="private_8h.html#a11">word</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>xmaxc</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="private_8h.html#a11">word</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>xMc</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
<div class="fragment"><pre>00040                           :
00041  */
00042 
00043     <a class="code" href="private_8h.html#a11">word</a>    * LARc, <span class="comment">/* [0..7] LAR coefficients      OUT */</span>
00044 
00045 <span class="comment">/*</span>
00046 <span class="comment"> * Procedure 4.2.11 to 4.2.18 are to be executed four times per</span>
00047 <span class="comment"> * frame.  That means once for each sub-segment RPE-LTP analysis of</span>
00048 <span class="comment"> * 40 samples.  These parts produce at the output of the coder:</span>
00049 <span class="comment"> */</span>
00050 
00051     <a class="code" href="private_8h.html#a11">word</a>    * Nc,   <span class="comment">/* [0..3] LTP lag           OUT     */</span>
00052     <a class="code" href="private_8h.html#a11">word</a>    * bc,   <span class="comment">/* [0..3] coded LTP gain        OUT     */</span>
00053     <a class="code" href="private_8h.html#a11">word</a>    * Mc,   <span class="comment">/* [0..3] RPE grid selection        OUT     */</span>
00054     <a class="code" href="private_8h.html#a11">word</a>    * xmaxc,<span class="comment">/* [0..3] Coded maximum amplitude   OUT */</span>
00055     <a class="code" href="private_8h.html#a11">word</a>    * xMc   <span class="comment">/* [13*4] normalized RPE samples    OUT */</span>
00056 )
00057 {
00058     <span class="keywordtype">int</span> k;
00059     <a class="code" href="private_8h.html#a11">word</a>    * dp  = S-&gt;<a class="code" href="structgsm__state.html#o0">dp0</a> + 120;   <span class="comment">/* [ -120...-1 ] */</span>
00060     <a class="code" href="private_8h.html#a11">word</a>    * dpp = dp;     <span class="comment">/* [ 0...39 ]    */</span>
00061 
00062     <a class="code" href="private_8h.html#a11">word</a>        ep[40];
00063     <span class="keyword">static</span> <a class="code" href="private_8h.html#a11">word</a> e [50] = {0};
00064 
00065     <a class="code" href="private_8h.html#a11">word</a>    so[160];
00066 
00067     Gsm_Preprocess          (S, s, so);
00068     Gsm_LPC_Analysis        (S, so, LARc);
00069     Gsm_Short_Term_Analysis_Filter  (S, LARc, so);
00070 
00071     <span class="keywordflow">for</span> (k = 0; k &lt;= 3; k++, xMc += 13) {
00072 
00073         Gsm_Long_Term_Predictor ( S,
00074                      so+k*40, <span class="comment">/* d      [0..39] IN  */</span>
00075                      dp,      <span class="comment">/* dp  [-120..-1] IN  */</span>
00076                     e + 5,    <span class="comment">/* e      [0..39] OUT */</span>
00077                     dpp,      <span class="comment">/* dpp    [0..39] OUT */</span>
00078                      Nc++,
00079                      bc++);
00080 
00081         Gsm_RPE_Encoding    ( S,
00082                     e + 5,  <span class="comment">/* e      ][0..39][ IN/OUT */</span>
00083                       xmaxc++, Mc++, xMc );
00084         <span class="comment">/*</span>
00085 <span class="comment">         * Gsm_Update_of_reconstructed_short_time_residual_signal</span>
00086 <span class="comment">         *          ( dpp, e + 5, dp );</span>
00087 <span class="comment">         */</span>
00088 
00089         { <span class="keyword">register</span> <span class="keywordtype">int</span> i;
00090           <span class="keyword">register</span> <a class="code" href="private_8h.html#a12">longword</a> ltmp;
00091           <span class="keywordflow">for</span> (i = 0; i &lt;= 39; i++)
00092             dp[ i ] = <a class="code" href="private_8h.html#a8">GSM_ADD</a>( e[5 + i], dpp[i] );
00093         }
00094         dp  += 40;
00095         dpp += 40;
00096 
00097     }
00098     (<span class="keywordtype">void</span>)memcpy( (<span class="keywordtype">char</span> *)S-&gt;<a class="code" href="structgsm__state.html#o0">dp0</a>, (<span class="keywordtype">char</span> *)(S-&gt;<a class="code" href="structgsm__state.html#o0">dp0</a> + 160),
00099         120 * <span class="keyword">sizeof</span>(*S-&gt;<a class="code" href="structgsm__state.html#o0">dp0</a>) );
00100 }
}
</pre></div>    </td>
  </tr>
</table>
<hr><address><small>
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 width=110 height=53></a>
<br>
FTPhone : Mon Jan 5 01:56:27 2004.

<!--
Generated at Mon Jan 5 01:56:27 2004 for FTPhone by <a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 width=110 height=53>
</a> 1.3.4 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
-->
</body>
</html>
