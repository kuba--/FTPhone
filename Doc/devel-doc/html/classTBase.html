<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//PL">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-2">
<title>TBase class Reference</title>
<link href="style.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#fffeff">
<!-- Generated by Doxygen 1.3.4 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1>TBase Class Reference</h1><code>#include &lt;<a class="el" href="Base_8hxx-source.html">Base.hxx</a>&gt;</code>
<p>
<table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classTBase.html#a0">TBase</a> (int Argc, char *Argv[])</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>virtual&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classTBase.html#a1">~TBase</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classTBase.html#a2">Run</a> ()</td></tr>

<tr><td colspan=2><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classTBase.html#b0">GetOpt</a> (int Argc, char *Argv[])</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classTBase.html#b1">Usage</a> (const  char *AppName)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classTBase.html#b2">Login</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classTBase.html#b3">TransferFile</a> (const  char *local_path, const  char *remote_path, const  int ftp_mode)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classTBase.html#b4">Gsm2Wav</a> (const  char *arg)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classTBase.html#b5">Play</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classTBase.html#b6">Wav2Gsm</a> (const  char *arg)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classTBase.html#b7">Record</a> (void)</td></tr>

<tr><td colspan=2><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>char *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classTBase.html#p0">sMyName</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">my user name on FTP server </em> <a href="#p0"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>char *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classTBase.html#p1">sMyPass</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">my password on FTP server </em> <a href="#p1"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>char *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classTBase.html#p2">sFriendName</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">mine friend user name on FTP server </em> <a href="#p2"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>char *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classTBase.html#p3">sFtpServerName</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">FTP server address. </em> <a href="#p3"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>char *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classTBase.html#p4">sRemoteDir</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remote dir (on FTP server) for exchanging voice files. </em> <a href="#p4"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>unsigned long&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classTBase.html#p5">ulGetCnt</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Getting file counter (how many files i've got from server). </em> <a href="#p5"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>unsigned long&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classTBase.html#p6">ulPutCnt</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Putting file counter (how many files i've put on server). </em> <a href="#p6"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="structNetBuf.html">netbuf</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classTBase.html#p7">getNetbuf</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="structNetBuf.html">netbuf</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classTBase.html#p8">putNetbuf</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="classTInterface.html">TInterface</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classTBase.html#p9">pIFace</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Interface pointer. </em> <a href="#p9"></a><em><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
for speakers and transfering files 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="TBase::TBase" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> TBase::TBase </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>Argc</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>Argv</em>[]</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructor 
<p>
<div class="fragment"><pre>00044   :<a class="code" href="classTBase.html#p0">sMyName</a>(NULL),
00045    <a class="code" href="classTBase.html#p1">sMyPass</a>(NULL),
00046    <a class="code" href="classTBase.html#p2">sFriendName</a>(NULL),
00047    <a class="code" href="classTBase.html#p3">sFtpServerName</a>(NULL),
00048    <a class="code" href="classTBase.html#p4">sRemoteDir</a>(NULL),
00049    <a class="code" href="classTBase.html#p5">ulGetCnt</a>(0),
00050    <a class="code" href="classTBase.html#p6">ulPutCnt</a>(0),
00051    <a class="code" href="classTBase.html#p9">pIFace</a>(NULL),
00052    <a class="code" href="classTBase.html#p7">getNetbuf</a>(NULL),
00053    <a class="code" href="classTBase.html#p8">putNetbuf</a>(NULL)
00054 {
00055   <a class="code" href="classTBase.html#b0">GetOpt</a>(Argc, Argv);
00056   <a class="code" href="ftplib_8c.html#a14">FtpInit</a>();
00057 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="TBase::~TBase" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> TBase::~<a class="el" href="classTBase.html">TBase</a> </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destructor 
<p>
<div class="fragment"><pre>00062 {  
00063   
00064 
00065   <span class="keywordflow">if</span> ( <a class="code" href="classTBase.html#p9">pIFace</a> ) {  
00066     <span class="keyword">delete</span> <a class="code" href="classTBase.html#p9">pIFace</a>;
00067   }
00068   fprintf(stdout, <span class="stringliteral">"\tQUIT [remove remote and history files]\n"</span>);  
00069   <a class="code" href="ftplib_8c.html#a42">FtpQuit</a>( getNetbuf );
00070   <a class="code" href="ftplib_8c.html#a42">FtpQuit</a>( putNetbuf );
00071 
00072   fprintf(stdout, <span class="stringliteral">"\tQUIT [press ^C]\n"</span>);
00073 
00074   <a class="code" href="namespacesys__tools.html#a0">sys_tools::CreateTemplate</a>(sFtpServerName, sMyName, sMyPass);
00075   <a class="code" href="namespacesys__tools.html#a4">sys_tools::ClearAll</a>(sRemoteDir);
00076   
00077   <span class="keywordflow">if</span> ( <a class="code" href="classTBase.html#p0">sMyName</a>) free(sMyName);
00078   <span class="keywordflow">if</span> ( <a class="code" href="classTBase.html#p1">sMyPass</a>) free(sMyPass);
00079   <span class="keywordflow">if</span> ( <a class="code" href="classTBase.html#p2">sFriendName</a>) free(sFriendName);
00080   <span class="keywordflow">if</span> ( <a class="code" href="classTBase.html#p3">sFtpServerName</a>) free(sFtpServerName);
00081   <span class="keywordflow">if</span> ( <a class="code" href="classTBase.html#p4">sRemoteDir</a>) free(sRemoteDir);  
00082 }
</pre></div>    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="b0" doxytag="TBase::GetOpt" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void TBase::GetOpt </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>Argc</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>Argv</em>[]</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
GetOpt works like getopt filling <dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classTBase.html#p0">sMyName</a>, <p>
<a class="el" href="classTBase.html#p2">sFriendName</a>, <p>
<a class="el" href="classTBase.html#p3">sFtpServerName</a>, <p>
<a class="el" href="classTBase.html#p4">sRemoteDir</a> </dd></dl>

<p>
<div class="fragment"><pre>00132 {
00133   <span class="keywordtype">int</span> opt;
00134 
00135   <span class="keywordflow">while</span>( (opt = getopt(Argc, Argv, <span class="stringliteral">"m:f:s:d:h"</span>)) != -1 ) 
00136     {
00137       <span class="keywordflow">switch</span>(opt) {
00138       <span class="keywordflow">case</span> <span class="charliteral">'m'</span>:
00139     <a class="code" href="classTBase.html#p0">sMyName</a> = strdup(optarg);      
00140     <span class="keywordflow">break</span>;
00141       <span class="keywordflow">case</span> <span class="charliteral">'f'</span>:
00142     <a class="code" href="classTBase.html#p2">sFriendName</a> = strdup(optarg);
00143     <span class="keywordflow">break</span>;
00144       <span class="keywordflow">case</span> <span class="charliteral">'s'</span>:
00145     <a class="code" href="classTBase.html#p3">sFtpServerName</a> = strdup(optarg);
00146     <span class="keywordflow">break</span>;
00147       <span class="keywordflow">case</span> <span class="charliteral">'d'</span>:
00148     <a class="code" href="classTBase.html#p4">sRemoteDir</a> = strdup(optarg);
00149     <span class="keywordflow">break</span>;
00150       <span class="keywordflow">case</span> <span class="charliteral">'h'</span>:
00151     <a class="code" href="classTBase.html#b1">Usage</a>(Argv[0]);
00152     exit(EXIT_FAILURE);
00153     <span class="keywordflow">break</span>;
00154       <span class="keywordflow">case</span> <span class="charliteral">':'</span>: <span class="comment">// without value   </span>
00155     <span class="keywordflow">break</span>;     
00156       <span class="keywordflow">default</span>: <span class="comment">// unknown opt</span>
00157     <a class="code" href="classTBase.html#b1">Usage</a>(Argv[0]);
00158     exit(EXIT_FAILURE);
00159       }
00160     }
00161   
00162   <span class="keywordflow">if</span> ( ! <a class="code" href="classTBase.html#p0">sMyName</a> ) <a class="code" href="classTBase.html#p0">sMyName</a> = strdup(DEFAULT_MY_NAME);
00163   <span class="keywordflow">if</span> ( ! <a class="code" href="classTBase.html#p2">sFriendName</a> ) <a class="code" href="classTBase.html#p2">sFriendName</a> = strdup(DEFAULT_FRIEND_NAME);
00164   <span class="keywordflow">if</span> ( ! <a class="code" href="classTBase.html#p3">sFtpServerName</a> ) <a class="code" href="classTBase.html#p3">sFtpServerName</a> = strdup(DEFAULT_FTP_SERVER);
00165   <span class="keywordflow">if</span> ( ! <a class="code" href="classTBase.html#p4">sRemoteDir</a> ) <a class="code" href="classTBase.html#p4">sRemoteDir</a> = strdup(DEFAULT_REMOTE_DIR);    
00166 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="b4" doxytag="TBase::Gsm2Wav" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void TBase::Gsm2Wav </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>arg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Convert GSM file <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>arg</em>&nbsp;</td><td>to WAV file </td></tr>
  </table>
</dl>

<p>
<div class="fragment"><pre>00252 {
00253     perror(<span class="stringliteral">"G S M 2 W A V"</span>);
00254 
00255     <span class="keyword">struct </span>stat st;
00256     <a class="code" href="wave_8h.html#a6">LONGINT</a> i, j;
00257   
00258     <a class="code" href="structgsm__state.html">gsm</a> GsmHndl;
00259     <a class="code" href="gsm_8h.html#a10">gsm_frame</a> GsmBuf;
00260     <a class="code" href="gsm_8h.html#a8">gsm_signal</a> GsmSig[160];
00261   
00262     <a class="code" href="structwavfile.html">wavfile</a>  WavIn; 
00263     <span class="keywordtype">int</span> Dsp;        
00264   
00265     <span class="keywordflow">if</span> ( lstat(file_name, &amp;st) == -1 ) {
00266         <a class="code" href="Debug_8hxx.html#a0">TRACE</a>(<span class="stringliteral">"stat()"</span>); 
00267     }
00268     <span class="keywordflow">else</span> {
00269     
00270         WavIn.<a class="code" href="structwavfile.html#o0">f</a>=<a class="code" href="wave_8c.html#a12">fileopen</a>((<span class="keywordtype">char</span> *)file_name, <span class="stringliteral">"r"</span>, NULL);
00271     
00272         <span class="keywordflow">while</span>( ! (Dsp = <a class="code" href="dsp_8c.html#a1">opendsp</a>(DEFBITS, DEFRATE, DEFBYTES, O_WRONLY)) ) 
00273             ;
00274     
00275         <span class="keywordflow">if</span> ( !(GsmHndl = gsm_create()) ) {
00276             <a class="code" href="Debug_8hxx.html#a0">TRACE</a>(<span class="stringliteral">"gsm_create()"</span>);      
00277         }
00278         <span class="keywordflow">else</span> {
00279       
00280             <span class="keywordflow">for</span>( i=0; ! feof(WavIn.<a class="code" href="structwavfile.html#o0">f</a>); i++) {
00281                 j = fread(GsmBuf, <span class="keyword">sizeof</span>(GsmBuf), 1, WavIn.<a class="code" href="structwavfile.html#o0">f</a>);
00282       
00283                 <span class="keywordflow">if</span>( j != 1 ||  gsm_decode(GsmHndl, GsmBuf, GsmSig) &lt; 0) {
00284                     <a class="code" href="Debug_8hxx.html#a0">TRACE</a>(<span class="stringliteral">"Error decoding input file.\n"</span>);      
00285                 }
00286                 <span class="keywordflow">else</span> {
00287                     write(Dsp, &amp;GsmSig, 320);
00288                     fsync(Dsp);
00289                 }            
00290             }
00291         }
00292 
00293         close(Dsp);
00294         fclose(WavIn.<a class="code" href="structwavfile.html#o0">f</a>);    
00295     }
00296   
00297     <span class="keywordflow">return</span> ;
00298 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="b2" doxytag="TBase::Login" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool TBase::Login </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Login on FTP server <dl compact><dt><b>Returns:</b></dt><dd>TRUE if success other FALSE </dd></dl>

<p>
<div class="fragment"><pre>00187 {
00188   <span class="keywordtype">bool</span> IsOK(<span class="keyword">false</span>);
00189   
00190   fprintf(stdout, <span class="stringliteral">"Logging in...\n\tPassword requested by %s for user '%s'.\n\n"</span>, sFtpServerName, sMyName);
00191   <a class="code" href="classTBase.html#p1">sMyPass</a> = (<span class="keywordtype">char</span> *) malloc((MAX_PASS_LEN + 1)* <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>));
00192 
00193   <span class="keywordflow">if</span> ( IsOK = ( strncpy(sMyPass, getpass(<span class="stringliteral">"Password: "</span>), MAX_PASS_LEN) ) != NULL ) {
00194     
00195     IsOK = <a class="code" href="ftplib_8c.html#a16">FtpConnect</a>( sFtpServerName, &amp;putNetbuf ) &amp;&amp; <a class="code" href="ftplib_8c.html#a19">FtpLogin</a>(sMyName, sMyPass, putNetbuf);
00196     <span class="keywordflow">if</span> ( IsOK ) {
00197       <a class="code" href="ftplib_8c.html#a16">FtpConnect</a>(sFtpServerName, &amp;getNetbuf ) &amp;&amp; <a class="code" href="ftplib_8c.html#a19">FtpLogin</a>(sMyName, sMyPass, getNetbuf);
00198       <a class="code" href="ftplib_8c.html#a17">FtpOptions</a>(FTPLIB_CONNMODE, FTPLIB_PORT, getNetbuf);  
00199     }
00200   }
00201 
00202   <span class="keywordflow">if</span>( ! IsOK ) 
00203     fprintf(stdout, <span class="stringliteral">"Login\t[ F A I L E D ]\n"</span>);    
00204   <span class="keywordflow">else</span> 
00205     fprintf(stdout, <span class="stringliteral">"Login\t[ O K ]\n"</span>);    
00206 
00207   <span class="keywordflow">return</span> IsOK;
00208 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="b5" doxytag="TBase::Play" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void TBase::Play </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get file .gsm and play it 
<p>
<div class="fragment"><pre>00303 {
00304   <a class="code" href="Debug_8hxx.html#a0">TRACE</a>(<span class="stringliteral">"P L A Y"</span>);
00305    
00306   
00307   <span class="keywordtype">char</span> get_file[256];
00308 
00309   string HistoryPath;
00310   string RemotePath;
00311   
00312   
00313 
00314   <a class="code" href="classTBase.html#p9">pIFace</a>-&gt;<a class="code" href="classTInterface.html#a2">SetStatus</a>(STATUS_SLEEP);
00315   
00316   <span class="keywordflow">while</span>( <span class="keyword">true</span> ) {
00317     <a class="code" href="Base_8hxx.html#a3">TRANSFER_FILE</a>( sFriendName, ulGetCnt, get_file );
00318     HistoryPath =  string(HISTORY_DIR)   + string(get_file);
00319     RemotePath  =  string(sRemoteDir) + string(get_file); 
00320      
00321     <span class="keywordflow">if</span> ( ! <a class="code" href="classTBase.html#b3">TransferFile</a>( HistoryPath.c_str(), RemotePath.c_str(), <a class="code" href="Base_8cxx.html#a4">GET_MODE</a>) )
00322       {
00323     <span class="comment">//   pIFace-&gt;SetStatus(STATUS_SLEEP);</span>
00324       }
00325     <span class="keywordflow">else</span> {
00326       <span class="comment">// we GOT file ;)</span>
00327       <span class="comment">// let's play</span>
00328       <a class="code" href="classTBase.html#p9">pIFace</a>-&gt;<a class="code" href="classTInterface.html#a2">SetStatus</a>(STATUS_PLAY);
00329        
00330       <a class="code" href="Debug_8hxx.html#a0">TRACE</a>( <span class="stringliteral">"P -&gt;"</span> );      
00331       <a class="code" href="classTBase.html#b4">Gsm2Wav</a>((<span class="keywordtype">char</span> *)HistoryPath.c_str());
00332       <a class="code" href="Debug_8hxx.html#a0">TRACE</a>( <span class="stringliteral">"&lt;- P"</span> );
00333        
00334       <span class="comment">// wait for next msg</span>
00335       <span class="comment">// pIFace-&gt;SetStatus(STATUS_GET);</span>
00336     }
00337 
00338     <a class="code" href="classTBase.html#p5">ulGetCnt</a>++;
00339   }
00340 
00341   <span class="keywordflow">return</span>;
00342 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="b7" doxytag="TBase::Record" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void TBase::Record </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Record file .gsm and put it on FTP server 
<p>
<div class="fragment"><pre>00426 {
00427   <a class="code" href="Debug_8hxx.html#a0">TRACE</a>(<span class="stringliteral">"R E C O R D"</span>);
00428 
00429   <span class="keywordtype">bool</span> stop(<span class="keyword">false</span>);
00430   <a class="code" href="classTBase.html#p9">pIFace</a>-&gt;<a class="code" href="classTInterface.html#a2">SetStatus</a>(STATUS_STOP);
00431 
00432   <span class="keywordflow">while</span>( ! stop ) {
00433     
00434     <span class="keywordflow">switch</span>( getch() ) {
00435     <span class="keywordflow">case</span> <span class="charliteral">'r'</span>: <span class="keywordflow">case</span> <span class="charliteral">'R'</span>:
00436       <span class="comment">// Record file and put it on server</span>
00437       <a class="code" href="Debug_8hxx.html#a0">TRACE</a>(<span class="stringliteral">"Rec -&gt;"</span>);
00438       <a class="code" href="classTBase.html#p9">pIFace</a>-&gt;<a class="code" href="classTInterface.html#a2">SetStatus</a>(STATUS_REC);
00439       
00440       <a class="code" href="classTBase.html#b6">Wav2Gsm</a>(NULL);
00441 
00442       <a class="code" href="Debug_8hxx.html#a0">TRACE</a>(<span class="stringliteral">"&lt;- Rec"</span>);
00443       <span class="keywordflow">break</span>;
00444    
00445     <span class="keywordflow">case</span> <span class="charliteral">'s'</span>: <span class="keywordflow">case</span> <span class="charliteral">'S'</span>:
00446       <a class="code" href="Debug_8hxx.html#a0">TRACE</a>(<span class="stringliteral">"Stop -&gt;"</span>);
00447       <span class="comment">// Stop recording</span>
00448       <a class="code" href="classTBase.html#p9">pIFace</a>-&gt;<a class="code" href="classTInterface.html#a2">SetStatus</a>(STATUS_STOP);
00449       <a class="code" href="Debug_8hxx.html#a0">TRACE</a>(<span class="stringliteral">"&lt;- Stop"</span>);
00450       <span class="keywordflow">break</span>;
00451 
00452     <span class="keywordflow">case</span> <span class="charliteral">'q'</span>: <span class="keywordflow">case</span> <span class="charliteral">'Q'</span>:
00453       <span class="comment">// Quit</span>
00454       <a class="code" href="Debug_8hxx.html#a0">TRACE</a>(<span class="stringliteral">"QUIT"</span>);
00455 
00456       stop = <span class="keyword">true</span>;
00457       <span class="keywordflow">break</span>;
00458     }
00459 
00460     usleep(100);
00461   }
00462 
00463   <span class="keywordflow">return</span>;
00464 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="TBase::Run" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void TBase::Run </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Run whole program 
<p>
<div class="fragment"><pre>00087 {
00088   <a class="code" href="Debug_8hxx.html#a0">TRACE</a>(<span class="stringliteral">"R U N"</span>);
00089   signal(SIGINT, SigHandler);
00090  
00091   <span class="keywordflow">if</span> ( <a class="code" href="classTBase.html#b2">Login</a>() ) { 
00092 
00093     <a class="code" href="classTBase.html#p9">pIFace</a> = <span class="keyword">new</span> <a class="code" href="classTInterface.html">TInterface</a>(FULL_APP_NAME, 
00094                 sMyName, 
00095                 sFriendName, 
00096                 sFtpServerName, 
00097                 sRemoteDir
00098                 );
00099     pid_t pid;
00100     <span class="keywordtype">int</span> status;
00101     
00102     <span class="keywordflow">switch</span>(pid = fork()) {
00103 
00104     <span class="keywordflow">case</span> -1: 
00105       <a class="code" href="Debug_8hxx.html#a0">TRACE</a>(<span class="stringliteral">"fork()"</span>);      
00106       <span class="keywordflow">break</span>;
00107       
00108     <span class="keywordflow">case</span> 0:     
00109       <a class="code" href="classTBase.html#b5">Play</a>();
00110       <span class="keywordflow">break</span>;
00111     
00112     <span class="keywordflow">default</span>:      
00113       <a class="code" href="classTBase.html#b7">Record</a>();
00114       kill(pid, SIGINT);
00115       waitpid(pid, &amp;status, WUNTRACED);
00116       <span class="keywordflow">break</span>;
00117     }   
00118     <span class="comment">//     sys_tools::CreateTemplate(sFtpServerName, sMyName, sMyPass);</span>
00119     <span class="comment">//     sys_tools::ClearAll(sRemoteDir, "*.gsm");</span>
00120   }
00121   <span class="keywordflow">return</span>;
00122 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="b3" doxytag="TBase::TransferFile" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool TBase::TransferFile </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>local_path</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>remote_path</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const int&nbsp;</td>
          <td class="mdname" nowrap> <em>ftp_mode</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Transfer (put, get) File (gsm file) <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>local_path:</em>&nbsp;</td><td>local file to transfer </td></tr>
    <tr><td valign=top><em>remote_file:</em>&nbsp;</td><td>name of remote file </td></tr>
    <tr><td valign=top><em>ftp_mode:</em>&nbsp;</td><td>possibility values <a class="el" href="Base_8cxx.html#a3">PUT_MODE( put file on server)</a>, <a class="el" href="Base_8cxx.html#a4">GET_MODE( get file from server)</a> </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>TRUE if everything OK ; else FALSE </dd></dl>

<p>
<div class="fragment"><pre>00213 {
00214   <span class="keywordtype">bool</span> IsOK(<span class="keyword">false</span>);
00215   
00216   <span class="keywordflow">if</span> ( ftp_mode == <a class="code" href="Base_8cxx.html#a3">PUT_MODE</a> ) {      
00217     <a class="code" href="Debug_8hxx.html#a0">TRACE</a>(<span class="stringliteral">"PUT_MODE"</span>);
00218     
00219     <span class="keywordflow">if</span> ( IsOK = <a class="code" href="ftplib_8c.html#a39">FtpPut</a>( local_path, remote_path, FTPLIB_BINARY, putNetbuf ) != 0 ) {
00220       
00221       <a class="code" href="Debug_8hxx.html#a0">TRACE</a>(<span class="stringliteral">"FtpPut:OK:"</span>);
00222     }
00223     <span class="keywordflow">else</span> <a class="code" href="Debug_8hxx.html#a0">TRACE</a>(<span class="stringliteral">"FtpPut:FAILED:"</span>);
00224     
00225   }
00226   <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( ftp_mode == <a class="code" href="Base_8cxx.html#a4">GET_MODE</a> ) {
00227     <a class="code" href="Debug_8hxx.html#a0">TRACE</a>(<span class="stringliteral">"GET_MODE"</span>);
00228 
00229     <a class="code" href="Debug_8hxx.html#a0">TRACE</a>(<span class="stringliteral">"FtpAccess -&gt; ("</span> &lt;&lt; remote_path &lt;&lt; <span class="stringliteral">")"</span>);
00230     <a class="code" href="structNetBuf.html">netbuf</a> *Data = NULL;
00231     <span class="keywordflow">do</span> {    
00232       IsOK = <a class="code" href="ftplib_8c.html#a22">FtpAccess</a>(remote_path, FTPLIB_FILE_READ, FTPLIB_BINARY, getNetbuf, &amp;Data) == 1;
00233       <span class="keywordflow">if</span> ( ! IsOK ) { <a class="code" href="classTBase.html#p9">pIFace</a>-&gt;<a class="code" href="classTInterface.html#a2">SetStatus</a>(STATUS_SLEEP); perror(<span class="stringliteral">"*"</span>); sleep(2); }
00234     } <span class="keywordflow">while</span>( ! IsOK );
00235     <a class="code" href="ftplib_8c.html#a25">FtpClose</a>(Data);  
00236     <a class="code" href="Debug_8hxx.html#a0">TRACE</a>(<span class="stringliteral">"FtpAccess &lt;- "</span>);
00237 
00238     <a class="code" href="classTBase.html#p9">pIFace</a>-&gt;<a class="code" href="classTInterface.html#a2">SetStatus</a>(STATUS_GET);
00239     <span class="keywordflow">if</span> ( IsOK = <a class="code" href="ftplib_8c.html#a38">FtpGet</a>( local_path, remote_path, FTPLIB_BINARY, getNetbuf ) != 0 ) {
00240       <a class="code" href="Debug_8hxx.html#a0">TRACE</a>(<span class="stringliteral">"FtpGet:OK:"</span>);       
00241     }
00242     <span class="keywordflow">else</span> <a class="code" href="Debug_8hxx.html#a0">TRACE</a>(<span class="stringliteral">"FtpGet:FAILED:"</span>);
00243     
00244   }
00245   <a class="code" href="Debug_8hxx.html#a0">TRACE</a>(<span class="stringliteral">"Transfer File return:"</span> &lt;&lt; IsOK);
00246   <span class="keywordflow">return</span> IsOK;
00247 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="b1" doxytag="TBase::Usage" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void TBase::Usage </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>AppName</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
How does it works <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>AppName</em>&nbsp;</td><td>: application name </td></tr>
  </table>
</dl>

<p>
<div class="fragment"><pre>00171 {
00172   printf(<span class="stringliteral">"\n%s [-m my user name] [-f friend user name] [-s ftp server address] [-d remote dir]\n"</span>, 
00173      AppName);
00174   printf(<span class="stringliteral">"default values:\n"</span>);
00175   printf(<span class="stringliteral">"\tmy user name on ftp server: %s\n"</span>,       DEFAULT_MY_NAME);
00176   printf(<span class="stringliteral">"\tfriend user name on ftp server: %s\n"</span>,   DEFAULT_FRIEND_NAME);  
00177   printf(<span class="stringliteral">"\tftp server address: %s\n"</span>, DEFAULT_FTP_SERVER);
00178   printf(<span class="stringliteral">"\tremote dir: %s\n"</span>,         DEFAULT_REMOTE_DIR);
00179   printf(<span class="stringliteral">"\n\neg.:%s -m kuba -f john -s ftp.server.net -d /tmp/\n\n"</span>, AppName);
00180 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="b6" doxytag="TBase::Wav2Gsm" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void TBase::Wav2Gsm </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>arg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Convert WAV file (creating from DEV/DSP) to GSM file <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>arg</em>&nbsp;</td><td></td></tr>
  </table>
</dl>

<p>
<div class="fragment"><pre>00348 {
00349   perror(<span class="stringliteral">"W A V 2 G S M"</span>);
00350   
00351   <span class="keywordtype">bool</span> stop(<span class="keyword">false</span>);  
00352   <span class="keywordtype">char</span> put_file[256];
00353 
00354   string HistoryPath;
00355   string RemotePath;
00356   
00357   <a class="code" href="structgsm__state.html">gsm</a> GsmHndl;
00358   <a class="code" href="gsm_8h.html#a10">gsm_frame</a> GsmBuf;
00359   <a class="code" href="gsm_8h.html#a8">gsm_signal</a> GsmSig[160];
00360   
00361   <a class="code" href="structwavfile.html">wavfile</a>  WavIn;  
00362   <a class="code" href="structwavfile.html">wavfile</a>  WavOut; 
00363   
00364   <span class="keywordtype">int</span> Dsp; 
00365 
00366   WavIn.<a class="code" href="structwavfile.html#o3">rate</a> = <a class="code" href="defaults_8h.html#a0">DEFRATE</a>;
00367   WavIn.<a class="code" href="structwavfile.html#o1">n</a> = INT_MAX;
00368   
00369   <span class="keywordflow">if</span> ( ! (GsmHndl = gsm_create()) ) {
00370     <a class="code" href="Debug_8hxx.html#a0">TRACE</a>(<span class="stringliteral">"gsm_create()"</span>);
00371     stop = <span class="keyword">true</span>;
00372     exit(EXIT_FAILURE);
00373   }
00374 
00375   <span class="comment">//       we start recording !</span>
00376   <a class="code" href="Debug_8hxx.html#a0">TRACE</a>(<span class="stringliteral">"opendsp -&gt;"</span>);
00377       
00378   <span class="comment">//       open DEVICE</span>
00379   <span class="keywordflow">while</span>( ! (Dsp = <a class="code" href="dsp_8c.html#a1">opendsp</a>(DEFBITS, WavIn.<a class="code" href="structwavfile.html#o3">rate</a>, DEFBYTES, O_RDONLY)) )
00380     ;
00381 
00382   <a class="code" href="Debug_8hxx.html#a0">TRACE</a>(<span class="stringliteral">"&lt;- opendsp"</span>);
00383 
00384   <a class="code" href="Base_8hxx.html#a3">TRANSFER_FILE</a>(sMyName, ulPutCnt, put_file);
00385   HistoryPath = string(HISTORY_DIR)   + string(put_file);
00386   RemotePath  = string(sRemoteDir) + string(put_file); 
00387 
00388   <a class="code" href="Debug_8hxx.html#a0">TRACE</a>(<span class="stringliteral">"fileopen -&gt;"</span>);
00389   WavOut.<a class="code" href="structwavfile.html#o0">f</a> = <a class="code" href="wave_8c.html#a12">fileopen</a>((<span class="keywordtype">char</span> *)HistoryPath.c_str(), <span class="stringliteral">"wb"</span>, NULL);  
00390   <a class="code" href="Debug_8hxx.html#a0">TRACE</a>(<span class="stringliteral">"&lt;- fileopen"</span>);
00391   
00392   <a class="code" href="Debug_8hxx.html#a0">TRACE</a>(<span class="stringliteral">"gsm_encode -&gt;"</span>);
00393   <span class="comment">//       record WAV file</span>
00394   <span class="keywordflow">for</span>( WavIn.<a class="code" href="structwavfile.html#o2">i</a> = 0; ( toupper(getch()) != <span class="charliteral">'S'</span> ) &amp;&amp; ( WavIn.<a class="code" href="structwavfile.html#o2">i</a> &lt; WavIn.<a class="code" href="structwavfile.html#o1">n</a> );  ) 
00395     {
00396       WavIn.<a class="code" href="structwavfile.html#o2">i</a> += read(Dsp, GsmSig, 320) / 2;
00397       
00398       <span class="comment">// converting to GSM</span>
00399       gsm_encode(GsmHndl, GsmSig, GsmBuf);
00400       fwrite((<span class="keywordtype">char</span> *)GsmBuf, <span class="keyword">sizeof</span>(GsmBuf), 1, WavOut.<a class="code" href="structwavfile.html#o0">f</a>);
00401     }   
00402 
00403   <a class="code" href="Debug_8hxx.html#a0">TRACE</a>(<span class="stringliteral">"&lt;- gsm_encode"</span>);
00404 
00405   fclose(WavOut.<a class="code" href="structwavfile.html#o0">f</a>);
00406   close(Dsp);      
00407      
00408   gsm_destroy(GsmHndl);
00409   
00410   <a class="code" href="classTBase.html#p9">pIFace</a>-&gt;<a class="code" href="classTInterface.html#a2">SetStatus</a>(STATUS_STOP);
00411   
00412   <span class="keywordflow">if</span> ( ! <a class="code" href="classTBase.html#b3">TransferFile</a>(HistoryPath.c_str(), RemotePath.c_str(), <a class="code" href="Base_8cxx.html#a3">PUT_MODE</a>) )
00413     {      
00414       <a class="code" href="Debug_8hxx.html#a0">TRACE</a>(<span class="stringliteral">"TransferFile():FAILED:"</span>);      
00415     }
00416   <span class="keywordflow">else</span> {
00417     <a class="code" href="classTBase.html#p6">ulPutCnt</a>++; 
00418   }
00419   
00420   <span class="keywordflow">return</span>;
00421 }
</pre></div>    </td>
  </tr>
</table>
<hr><h2>Field Documentation</h2>
<a class="anchor" name="p7" doxytag="TBase::getNetbuf" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="structNetBuf.html">netbuf</a>* <a class="el" href="classTBase.html#p7">TBase::getNetbuf</a><code> [protected]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p9" doxytag="TBase::pIFace" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classTInterface.html">TInterface</a>* <a class="el" href="classTBase.html#p9">TBase::pIFace</a><code> [protected]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Interface pointer. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p8" doxytag="TBase::putNetbuf" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="structNetBuf.html">netbuf</a>* <a class="el" href="classTBase.html#p8">TBase::putNetbuf</a><code> [protected]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p2" doxytag="TBase::sFriendName" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> char* <a class="el" href="classTBase.html#p2">TBase::sFriendName</a><code> [protected]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
mine friend user name on FTP server 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p3" doxytag="TBase::sFtpServerName" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> char* <a class="el" href="classTBase.html#p3">TBase::sFtpServerName</a><code> [protected]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
FTP server address. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p0" doxytag="TBase::sMyName" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> char* <a class="el" href="classTBase.html#p0">TBase::sMyName</a><code> [protected]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
my user name on FTP server 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p1" doxytag="TBase::sMyPass" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> char* <a class="el" href="classTBase.html#p1">TBase::sMyPass</a><code> [protected]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
my password on FTP server 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p4" doxytag="TBase::sRemoteDir" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> char* <a class="el" href="classTBase.html#p4">TBase::sRemoteDir</a><code> [protected]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Remote dir (on FTP server) for exchanging voice files. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p5" doxytag="TBase::ulGetCnt" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> unsigned long <a class="el" href="classTBase.html#p5">TBase::ulGetCnt</a><code> [protected]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Getting file counter (how many files i've got from server). 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="p6" doxytag="TBase::ulPutCnt" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> unsigned long <a class="el" href="classTBase.html#p6">TBase::ulPutCnt</a><code> [protected]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Putting file counter (how many files i've put on server). 
<p>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="Base_8hxx-source.html">Base.hxx</a><li><a class="el" href="Base_8cxx.html">Base.cxx</a></ul>
<hr><address><small>
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 width=110 height=53></a>
<br>
FTPhone : Mon Jan 5 01:56:28 2004.

<!--
Generated at Mon Jan 5 01:56:28 2004 for FTPhone by <a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 width=110 height=53>
</a> 1.3.4 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
-->
</body>
</html>
