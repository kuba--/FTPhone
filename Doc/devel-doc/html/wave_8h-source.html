<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//PL">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-2">
<title>wave.h Source File</title>
<link href="style.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#fffeff">
<!-- Generated by Doxygen 1.3.4 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1>wave.h</h1><a href="wave_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="preprocessor">#ifndef _WAVE_H</span>
<a name="l00002"></a><a class="code" href="wave_8h.html#a0">00002</a> <span class="preprocessor"></span><span class="preprocessor">#define _WAVE_H 1</span>
00003 <span class="preprocessor"></span>
00004 <span class="preprocessor">#if defined (__GNUC__)</span>
00005 <span class="preprocessor"></span><span class="preprocessor">  #define _GCC_ 1       </span><span class="comment">/* GNU Compiler (UNIX) */</span>
00006 <span class="preprocessor">#elif defined (__WATCOMC__)</span>
00007 <span class="preprocessor"></span><span class="preprocessor">  #define _WATCOM_ 1        </span><span class="comment">/* Watcom Compiler (MSDOS) */</span>
00008 <span class="preprocessor">#else</span>
<a name="l00009"></a><a class="code" href="wave_8h.html#a1">00009</a> <span class="preprocessor"></span><span class="preprocessor">  #define _GCC_ 1       </span><span class="comment">/* default */</span> 
00010 <span class="preprocessor">#endif</span>
00011 <span class="preprocessor"></span>
00012 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
00013 <span class="preprocessor">#include &lt;stdlib.h&gt;</span>
00014 <span class="preprocessor">#include &lt;math.h&gt;</span>
00015 <span class="preprocessor">#include &lt;unistd.h&gt;</span>
00016 <span class="preprocessor">#include &lt;string.h&gt;</span>
00017 
<a name="l00018"></a><a class="code" href="wave_8h.html#a2">00018</a> <span class="preprocessor">#define BYTE unsigned char</span>
00019 <span class="preprocessor"></span><span class="preprocessor">#if USHRT_MAX==0xffff</span>
00020 <span class="preprocessor"></span><span class="preprocessor">#define WORD unsigned short int</span>
00021 <span class="preprocessor"></span><span class="preprocessor">#define INTEGER signed short int</span>
00022 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00023"></a><a class="code" href="wave_8h.html#a3">00023</a> <span class="preprocessor"></span><span class="preprocessor">#define WORD unsigned int</span>
<a name="l00024"></a><a class="code" href="wave_8h.html#a4">00024</a> <span class="preprocessor"></span><span class="preprocessor">#define INTEGER signed int</span>
00025 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00026"></a><a class="code" href="wave_8h.html#a5">00026</a> <span class="preprocessor"></span><span class="preprocessor">#define LONG unsigned long</span>
<a name="l00027"></a><a class="code" href="wave_8h.html#a6">00027</a> <span class="preprocessor"></span><span class="preprocessor">#define LONGINT signed long </span>
<a name="l00028"></a><a class="code" href="wave_8h.html#a7">00028</a> <span class="preprocessor"></span><span class="preprocessor">#define REAL double</span>
<a name="l00029"></a><a class="code" href="wave_8h.html#a8">00029</a> <span class="preprocessor"></span><span class="preprocessor">#define VAL  float</span>
00030 <span class="preprocessor"></span>
<a name="l00031"></a><a class="code" href="wave_8h.html#a9">00031</a> <span class="preprocessor">#define WAV_RIFF   0x46464952   </span><span class="comment">/* "RIFF" */</span>
<a name="l00032"></a><a class="code" href="wave_8h.html#a10">00032</a> <span class="preprocessor">#define WAV_WAVE   0x45564157   </span><span class="comment">/* "WAVE" */</span>
<a name="l00033"></a><a class="code" href="wave_8h.html#a11">00033</a> <span class="preprocessor">#define WAV_LIST   0x5453494c   </span><span class="comment">/* "LIST" */</span>
<a name="l00034"></a><a class="code" href="wave_8h.html#a12">00034</a> <span class="preprocessor">#define WAV_INFO   0x4f464e49   </span><span class="comment">/* "INFO" */</span>
<a name="l00035"></a><a class="code" href="wave_8h.html#a13">00035</a> <span class="preprocessor">#define WAV_ISFT   0x54465349   </span><span class="comment">/* "ISFT" */</span>
<a name="l00036"></a><a class="code" href="wave_8h.html#a14">00036</a> <span class="preprocessor">#define WAV_ICRD   0x44524349   </span><span class="comment">/* "ICRD" */</span>
<a name="l00037"></a><a class="code" href="wave_8h.html#a15">00037</a> <span class="preprocessor">#define WAV_FMT    0x20746d66   </span><span class="comment">/* "fmt " */</span>
<a name="l00038"></a><a class="code" href="wave_8h.html#a16">00038</a> <span class="preprocessor">#define WAV_DATA   0x61746164   </span><span class="comment">/* "data" */</span>
<a name="l00039"></a><a class="code" href="wave_8h.html#a17">00039</a> <span class="preprocessor">#define WAV_MONO   0x00010001   </span><span class="comment">/* 0x0001 0x0001 */</span>
<a name="l00040"></a><a class="code" href="wave_8h.html#a18">00040</a> <span class="preprocessor">#define WAV_STEREO 0x00020001   </span><span class="comment">/* 0x0001 0x0002 */</span>
00041 
<a name="l00042"></a><a class="code" href="wave_8h.html#a19">00042</a> <span class="preprocessor">#define dmp(x) fprintf(stderr,"[%d]",x)</span>
00043 <span class="preprocessor"></span>
<a name="l00044"></a><a class="code" href="wave_8h.html#a20">00044</a> <span class="preprocessor">#define U_NU     1</span>
<a name="l00045"></a><a class="code" href="wave_8h.html#a21">00045</a> <span class="preprocessor"></span><span class="preprocessor">#define U_SEC    2</span>
<a name="l00046"></a><a class="code" href="wave_8h.html#a22">00046</a> <span class="preprocessor"></span><span class="preprocessor">#define U_HZ     4</span>
<a name="l00047"></a><a class="code" href="wave_8h.html#a23">00047</a> <span class="preprocessor"></span><span class="preprocessor">#define U_GAIN   8</span>
<a name="l00048"></a><a class="code" href="wave_8h.html#a24">00048</a> <span class="preprocessor"></span><span class="preprocessor">#define U_PHASE 16</span>
<a name="l00049"></a><a class="code" href="wave_8h.html#a25">00049</a> <span class="preprocessor"></span><span class="preprocessor">#define U_METER 32</span>
<a name="l00050"></a><a class="code" href="wave_8h.html#a26">00050</a> <span class="preprocessor"></span><span class="preprocessor">#define U_PT    64</span>
<a name="l00051"></a><a class="code" href="wave_8h.html#a27">00051</a> <span class="preprocessor"></span><span class="preprocessor">#define U_ALL  127</span>
00052 <span class="preprocessor"></span>
<a name="l00053"></a><a class="code" href="wave_8h.html#a28">00053</a> <span class="preprocessor">#define MAXAMPL 0.99999</span>
00054 <span class="preprocessor"></span>
00055 
00056 <span class="preprocessor">#ifndef PI</span>
<a name="l00057"></a><a class="code" href="wave_8h.html#a29">00057</a> <span class="preprocessor"></span><span class="preprocessor">  #define PI 3.14159265359</span>
00058 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00059 <span class="preprocessor"></span>
00060 
<a name="l00061"></a><a class="code" href="wave_8h.html#a30">00061</a> <span class="preprocessor">#define fgetbyte(b,f) if(fread(b,1,1,f)!=1) exit(ERR_READ)</span>
<a name="l00062"></a><a class="code" href="wave_8h.html#a31">00062</a> <span class="preprocessor"></span><span class="preprocessor">#define fgetword(w,f) if(fread(w,2,1,f)!=1) exit(ERR_READ)</span>
<a name="l00063"></a><a class="code" href="wave_8h.html#a32">00063</a> <span class="preprocessor"></span><span class="preprocessor">#define fgetlong(l,f) if(fread(l,4,1,f)!=1) exit(ERR_READ)</span>
00064 <span class="preprocessor"></span>
<a name="l00065"></a><a class="code" href="wave_8h.html#a33">00065</a> <span class="preprocessor">#define ERRMSGS 12</span>
00066 <span class="preprocessor"></span>
<a name="l00067"></a><a class="code" href="wave_8h.html#a34">00067</a> <span class="preprocessor">#define ERR_NONE    0</span>
<a name="l00068"></a><a class="code" href="wave_8h.html#a35">00068</a> <span class="preprocessor"></span><span class="preprocessor">#define ERR_PREV    1</span>
<a name="l00069"></a><a class="code" href="wave_8h.html#a36">00069</a> <span class="preprocessor"></span><span class="preprocessor">#define ERR_TIME    2</span>
<a name="l00070"></a><a class="code" href="wave_8h.html#a37">00070</a> <span class="preprocessor"></span><span class="preprocessor">#define ERR_FREQ    3</span>
<a name="l00071"></a><a class="code" href="wave_8h.html#a38">00071</a> <span class="preprocessor"></span><span class="preprocessor">#define ERR_PARAM   4</span>
<a name="l00072"></a><a class="code" href="wave_8h.html#a39">00072</a> <span class="preprocessor"></span><span class="preprocessor">#define ERR_FORMAT  5</span>
<a name="l00073"></a><a class="code" href="wave_8h.html#a40">00073</a> <span class="preprocessor"></span><span class="preprocessor">#define ERR_UNSUPP  6</span>
<a name="l00074"></a><a class="code" href="wave_8h.html#a41">00074</a> <span class="preprocessor"></span><span class="preprocessor">#define ERR_READ    7</span>
<a name="l00075"></a><a class="code" href="wave_8h.html#a42">00075</a> <span class="preprocessor"></span><span class="preprocessor">#define ERR_WRITE   8</span>
<a name="l00076"></a><a class="code" href="wave_8h.html#a43">00076</a> <span class="preprocessor"></span><span class="preprocessor">#define ERR_MEM     9</span>
<a name="l00077"></a><a class="code" href="wave_8h.html#a44">00077</a> <span class="preprocessor"></span><span class="preprocessor">#define ERR_SYNTAX 10</span>
<a name="l00078"></a><a class="code" href="wave_8h.html#a45">00078</a> <span class="preprocessor"></span><span class="preprocessor">#define ERR_ARG    11</span>
00079 <span class="preprocessor"></span>
<a name="l00080"></a><a class="code" href="structwavfile.html">00080</a> <span class="keyword">typedef</span> <span class="keyword">struct</span>
00081 <span class="keyword"></span>{
<a name="l00082"></a><a class="code" href="structwavfile.html#o0">00082</a>   FILE *f;
<a name="l00083"></a><a class="code" href="structwavfile.html#o1">00083</a>   <a class="code" href="wave_8h.html#a5">LONG</a> n;
<a name="l00084"></a><a class="code" href="structwavfile.html#o2">00084</a>   <a class="code" href="wave_8h.html#a5">LONG</a> i;
<a name="l00085"></a><a class="code" href="structwavfile.html#o3">00085</a>   <a class="code" href="wave_8h.html#a5">LONG</a> rate;
<a name="l00086"></a><a class="code" href="structwavfile.html#o4">00086</a>   <a class="code" href="wave_8h.html#a5">LONG</a> bits;
<a name="l00087"></a><a class="code" href="structwavfile.html#o5">00087</a>   <a class="code" href="wave_8h.html#a5">LONG</a> bytes;
<a name="l00088"></a><a class="code" href="structwavfile.html#o6">00088</a>   <span class="keywordtype">int</span>  overflow;
<a name="l00089"></a><a class="code" href="structwavfile.html#o7">00089</a>   <span class="keywordtype">int</span>  underflow;
00090 } <a class="code" href="structwavfile.html">wavfile</a>;
00091 
00092 
00093 <span class="keywordtype">void</span> <a class="code" href="wave_8c.html#a6">readheader</a>(<a class="code" href="structwavfile.html">wavfile</a> *w);
00094 <span class="keywordtype">void</span> <a class="code" href="wave_8c.html#a7">writeheader</a>(<a class="code" href="structwavfile.html">wavfile</a> *w);
00095 <span class="keywordtype">void</span> <a class="code" href="wave_8c.html#a8">wavstdin</a>(<a class="code" href="structwavfile.html">wavfile</a> *w);
00096 <span class="keywordtype">void</span> <a class="code" href="wave_8c.html#a9">wavfin</a>(<a class="code" href="structwavfile.html">wavfile</a> *w,<span class="keywordtype">char</span> *n);
00097 <span class="keywordtype">void</span> <a class="code" href="wave_8c.html#a10">wavstdout</a>(<a class="code" href="structwavfile.html">wavfile</a> *w);
00098 <span class="keywordtype">void</span> <a class="code" href="wave_8c.html#a11">wavfout</a>(<a class="code" href="structwavfile.html">wavfile</a> *w,<span class="keywordtype">char</span> *n);
00099 FILE *<a class="code" href="wave_8c.html#a12">fileopen</a>(<span class="keywordtype">char</span> *n,<span class="keywordtype">char</span> *mod,<span class="keywordtype">char</span> *ext);
00100 <a class="code" href="wave_8h.html#a5">LONG</a> <a class="code" href="wave_8c.html#a13">wavbinget</a>(<a class="code" href="structwavfile.html">wavfile</a> *w);
00101 <span class="keywordtype">void</span> <a class="code" href="wave_8c.html#a14">wavbinput</a>(<a class="code" href="structwavfile.html">wavfile</a> *w, LONG l);
00102 <a class="code" href="wave_8h.html#a8">VAL</a> <a class="code" href="wave_8c.html#a15">wavget</a>(<a class="code" href="structwavfile.html">wavfile</a> *w);
00103 <span class="keywordtype">void</span> <a class="code" href="wave_8c.html#a16">wavput</a>(<a class="code" href="structwavfile.html">wavfile</a> *w,VAL x);
00104 <span class="keywordtype">int</span> <a class="code" href="wave_8c.html#a17">getparam</a>(<span class="keywordtype">char</span> *s,REAL *v,<span class="keywordtype">int</span> msk);
00105 <a class="code" href="wave_8h.html#a7">REAL</a> <a class="code" href="wave_8c.html#a18">gettime</a>(<span class="keywordtype">char</span> *s);
00106 <a class="code" href="wave_8h.html#a7">REAL</a> <a class="code" href="wave_8c.html#a19">getfreq</a>(<span class="keywordtype">char</span> *s);
00107 <span class="keywordtype">int</span> <a class="code" href="wave_8c.html#a20">stdopt</a>(<span class="keywordtype">char</span> c,<span class="keywordtype">char</span> *h);
00108 <span class="keywordtype">void</span> <a class="code" href="wave_8c.html#a21">setexitmsg</a>(<span class="keywordtype">char</span> *prg);
00109 <span class="keywordtype">void</span> <a class="code" href="wave_8c.html#a22">errexit</a>(<span class="keywordtype">int</span> err);
00110 
00111 
00112 
00113 <span class="preprocessor">#ifdef _WATCOM_</span>
00114 <span class="preprocessor"></span>  <span class="keywordtype">int</span> <a class="code" href="SysTools_8hxx.html#a6">optind</a>=0;
00115   <span class="keywordtype">char</span> *<a class="code" href="SysTools_8hxx.html#a5">optarg</a>;
00116   <span class="keywordtype">char</span> getopt(<span class="keywordtype">int</span> argc,<span class="keywordtype">char</span> **argv,<span class="keywordtype">char</span> *opts)
00117   {
00118     <span class="keywordtype">char</span> *p;
00119     <span class="keywordtype">char</span> *q;
00120     <span class="keywordtype">char</span> c;
00121   
00122     <a class="code" href="SysTools_8hxx.html#a6">optind</a>++;
00123     <a class="code" href="SysTools_8hxx.html#a5">optarg</a>=0;
00124     <span class="keywordflow">if</span>(<a class="code" href="SysTools_8hxx.html#a6">optind</a>&gt;=argc) <span class="keywordflow">return</span> 127;
00125     p=argv[<a class="code" href="SysTools_8hxx.html#a6">optind</a>];
00126     <span class="keywordflow">if</span>(p[0]==<span class="charliteral">'-'</span> &amp;&amp; p[1])
00127     {
00128       p++;
00129       c=p[0];
00130       q=strchr(opts,c);
00131       <span class="keywordflow">if</span>(q)
00132       {
00133         p++; q++;
00134         <span class="keywordflow">if</span>(q[0] ==<span class="charliteral">':'</span>)
00135         {
00136           <span class="keywordflow">if</span>(!(p[0])) <span class="keywordflow">return</span> <span class="charliteral">':'</span>;
00137           <a class="code" href="SysTools_8hxx.html#a5">optarg</a>=p;
00138           <span class="keywordflow">return</span> c;
00139         };
00140         <span class="keywordflow">if</span>(p[0]) <span class="keywordflow">return</span> <span class="charliteral">'?'</span>;
00141         <span class="keywordflow">return</span> c;
00142       } <span class="keywordflow">else</span> {
00143         <span class="keywordflow">return</span> <span class="charliteral">'?'</span>;
00144       };
00145     };
00146     <span class="keywordflow">return</span> 127;
00147   };
00148 <span class="preprocessor">#else</span>
<a name="l00149"></a><a class="code" href="wave_8h.html#a46">00149</a> <span class="preprocessor"></span>  <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="SysTools_8hxx.html#a6">optind</a>;
<a name="l00150"></a><a class="code" href="wave_8h.html#a47">00150</a>   <span class="keyword">extern</span> <span class="keywordtype">char</span> *<a class="code" href="SysTools_8hxx.html#a5">optarg</a>;
00151 <span class="preprocessor">#endif</span>
00152 <span class="preprocessor"></span>
00153 <span class="preprocessor">#ifdef _WATCOM_</span>
00154 <span class="preprocessor"></span><span class="preprocessor">  #define random() rand()</span>
00155 <span class="preprocessor"></span><span class="preprocessor">  #define rint(x) floor(x+0.5)</span>
00156 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00157 <span class="preprocessor"></span>
00158 <span class="preprocessor">#ifdef _WATCOM_</span>
00159 <span class="preprocessor"></span><span class="preprocessor">  #include "<a class="code" href="wave_8c.html">wave.c</a>"</span>
00160 <span class="preprocessor">#endif</span>
00161 <span class="preprocessor"></span>
00162 <span class="preprocessor">#endif</span>
00163 <span class="preprocessor"></span>
</pre></div><hr><address><small>
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 width=110 height=53></a>
<br>
FTPhone : Mon Jan 5 01:56:27 2004.

<!--
Generated at Mon Jan 5 01:56:27 2004 for FTPhone by <a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 width=110 height=53>
</a> 1.3.4 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
-->
</body>
</html>
